{% extends 'DashboardBundle:Common:backend2.html.twig' %}


{% block stylesheets_priority %}
  {{ parent() }}
	<link href="{{ asset('bundles/dashboard/material/css/select2.min.css') }}" rel="stylesheet" type="text/css"/>
	<link href="{{ asset('bundles/dashboard/material/css/pikaday.css') }}" rel="stylesheet" type="text/css"/>
{% endblock stylesheets_priority %}

{% block breadcrumb %}
	<li><a href="#">Profile</a></li>
{% endblock breadcrumb%}

{% block content %}

	<style>

		.card.small .card-image.card-image-profile {
			height: 100%;
		}
		.pmop-edit:hover {
			background: rgba(0, 0, 0, 0.8);
			opacity: 1;
		}
		.pmop-edit {
			position: absolute;
			top: 0;
			left: 0;
			color: #fff;
			background: rgba(0, 0, 0, 0.38);
			text-align: center;
			padding: 10px 10px 11px;
			-webkit-transition: opacity;
			-o-transition: opacity;
			transition: opacity;
			-webkit-transition-duration: 250ms;
			transition-duration: 250ms;
			z-index: 20;
			width: 100%;
			opacity: 0.8;
		}
		.pmo-block {
			padding: 0px;
		}
		.pmo-block-tab {
			padding: 25px;
		}
		.pmo-block > h2 {
			font-size: 16px;
			margin: 0 0 0px;
			color: #424242;argin: 0 0 15px;
		}
		.pmo-contact ul {
			list-style: none;
			margin: 0;
			padding: 0;
		}
		.pmo-contact ul li {
			position: relative;
			padding: 8px 0 8px 35px;
		}
		.pmo-contact ul li i {
			font-size: 18px;
			vertical-align: top;
			line-height: 100%;
			position: absolute;
			left: 0;
			width: 18px;
			text-align: center;
		}
		.tab-nav {
			 list-style: none;
			 padding: 0;
			 white-space: nowrap;
			 margin: 0;
			 overflow: hidden;
			 box-shadow: inset 0 -2px 0 0 #eeeeee;
			 width: 100%;
		 }
		nav .brand-logo {
			color: #424242;
			font-size: 18px;
		}
		nav, nav .button-collapse.sp-cancel, nav .button-collapse.sp-cancel i, nav .nav-wrapper i, nav a.button-collapse, nav a.button-collapse i {
			height: 45px;
			line-height: 45px;
		}

		input[type=date], input[type=datetime-local], input[type=email],
		input[type=number], input[type=password], input[type=search],
		input[type=tel], input[type=text], input[type=time], input[type=url] {
			height: 45px !important;
			margin: 0 0 1px !important;

			height: 35px !important;
			text-indent: 5px;

			border-left: 1px solid #ccc !important;
			border-right: 1px solid #ccc !important;
			border-top: 1px solid #ccc !important;
			box-shadow: inset 0 1px 2px #eee;

		}
		.input-field {
			margin-top: 1.5rem !important;
		}
		.input-field label.active {
			transform: translateY(-170%);
			left: 0px;
		}
		nav, nav .button-collapse.sp-cancel, nav .button-collapse.sp-cancel i, nav .nav-wrapper i, nav a.button-collapse, nav a.button-collapse i {
			height: 25px;
			line-height: 25px;
		}
		.select2-container .select2-search--inline .select2-search__field {
			border-left: none !important;
			border-top: none !important;
			border-right: none !important;
			box-shadow: inset 0 0px 0px #eee !important;
		}
		.select2-selection{
			border-left: 1px solid #ccc !important;
			border-right: 1px solid #ccc !important;
			border-top: 1px solid #ccc !important;
			box-shadow: inset 0 1px 2px #eee;

			height: 37px !important;
			margin-top: 1px;
			padding-left: 5px !important;
		}
		.select2-container--default .select2-selection--multiple,
		.select2-container--default.select2-container--focus .select2-selection--multiple {
			height: auto !important;
		}

		.select2-container--default .select2-search--inline .select2-search__field {
			height: 30px !important;
		}
		.select2-container--default .select2-selection--multiple .select2-selection__choice {
			margin-top: 6px !important;
		}
		.select2-container--default .select2-selection--multiple .select2-selection__rendered {
			padding: 0 0px !important;
		}
		.select2-container {
			max-width: 100% !important;
			min-width: 100% !important;
		}
    .input-field .prefix~label.active{
      transform: translateY(-170%) !important;
      margin-left: 0px;
    }
    .input-field > i.prefix{
      text-indent: 5px;
      color: #7C7E89;
    }
    .input-field > i.prefix + input {
      text-indent: 40px;
    }
	</style>
		<div class="row">
			<div class="col m3" style="padding-right: 20px;">
				<div class="card small" style="background-color: #F8F8F8;color: #5E5E5E;">

					{#<a href="" class="pmop-edit">#}
						{#<i class="mdi mdi-image-photo-camera"></i> <span class="hidden-xs">Update Profile Picture</span>#}
					{#</a>#}

					<div class="card-image card-image-profile">
						<img src="{{ asset('bundles/dashboard/people/01.jpg') }}">
					</div>
					<div class="progress" style="height: 3px;margin-top: 0px;margin-bottom: 0px;">
						<div class="indeterminate"></div>
					</div>
					<div class="file-field input-field pmop-edit" style=" margin-top: 0px !important;padding: 0px;">
						<div class="btn" style="background-color: transparent;">
							<span><i class="mdi mdi-image-photo-camera left"></i> Update Picture</span>
							<input name="file" class="cloudinary-fileupload" data-cloudinary-field="image_upload" type="file">
						</div>
					</div>
					{#<div class="card-action">#}
						{#<div class="pmo-block pmo-contact hidden-xs">#}
							{#<h2>Contact</h2>#}

							{#<ul>#}
								{#<li><i class="mdi mdi-communication-phone"></i> 00971 12345678 9</li>#}
								{#<li><i class="mdi mdi-communication-email"></i> malinda-h@gmail.com</li>#}
								{#<li><i class="fa fa-facebook-official"></i> malinda.hollaway</li>#}
								{#<li><i class="fa fa-twitter"></i> @malinda (twitter.com/malinda)</li>#}
								{#<li>#}
									{#<i class="mdi mdi-communication-location-on"></i>#}
									{#<address class="m-b-0 ng-binding">#}
										{#44-46 Morningside Road,<br>#}
										{#Edinburgh,<br>#}
										{#Scotland#}
									{#</address>#}
								{#</li>#}
							{#</ul>#}
						{#</div>#}
					{#</div>#}
				</div>
			</div>
			<div class="col m9" style="border-left: 1px solid #eee;background-color: #FFFFFF;min-height: 570px;border-bottom: 1px solid #eee;">
				<div class="row" style="margin-top: 0px">
					<div class="col s12" style="padding-bottom: 5px;">
						<ul class="tabs tab-nav">
							<li class="tab col s1 waves-effect"><a href="#test1" class="active">Profile</a></li>
							<li class="tab col s1 waves-effect"><a href="#test2">Account Infotmation</a></li>
						</ul>
					</div>

          {#Tab Profile#}
          {% include 'UserBundle:Profile:Partials/_index-tab-profile-info.html.twig' %}

          {#Tab Account Info#}
          {% include 'UserBundle:Profile:Partials/_index-tab-account-info.html.twig' %}

				</div>
			</div>
		</div>
	<br>
{% endblock content%}

{% block javascripts %}
	{{parent()}}
	<script src="{{ asset('bundles/dashboard/material/js/select2.full.min.js') }}"></script>
	<script src="{{ asset('bundles/dashboard/material/js/jquery.inputmask.bundle.min.js') }}"></script>
	<script src="{{ asset('bundles/dashboard/material/js/moment.js') }}"></script>
	<script src="{{ asset('bundles/dashboard/material/js/pikaday.js') }}"></script>
	<script src="{{ asset('bundles/dashboard/material/js/pikaday.jquery.js') }}"></script>

	{# Upload scripts #}
	<script src="{{ asset('bundles/common/bower_components/jquery-ui/ui/widget.js') }}" type="text/javascript"></script>
	<script src="{{ asset('bundles/common/bower_components/blueimp-file-upload/js/jquery.iframe-transport.js') }}" type="text/javascript"></script>
	<script src="{{ asset('bundles/common/bower_components/blueimp-file-upload/js/jquery.fileupload.js') }}" type="text/javascript"></script>
	<script src="{{ asset('bundles/common/bower_components/blueimp-file-upload/js/jquery.fileupload-image.js') }}" type="text/javascript"></script>
	<script src="{{ asset('bundles/common/bower_components/cloudinary-jquery-file-upload/cloudinary-jquery-file-upload.js') }}" type="text/javascript"></script>
	<script src="{{ asset('bundles/common/js/cloudinary.js') }}" type="text/javascript"></script>

	<script>
		$(document).ready(function(){

			//Initialize
			var picker = new Pikaday({
				field: document.getElementById('profile_birth_date'),
				format: 'L'
			});
			picker.setDate({{ "now" | date("m/d/Y") }});

			$('#profile_birth_date').attr('type','text');
			$('#profile_website').attr('type','url');

			$('#btn-profile-cancel').click(function(){
				$('#edit-profile-container').attr('style','display:none');
				$('#edit-profile-information').attr('style','display:block');
			});

			$('#edit-profile').click(function(){
					$('#edit-profile-container').attr('style','display:block');
					$('#edit-profile-information').attr('style','display:none');
			});

			//Upload Profile Picture
			Cloudinary.init({
				'preset': 'profile'
			});

			Cloudinary.uploadDone(function(data){
				var img = $.cloudinary.image(data.result.public_id,{
					format: data.result.format
					//width: 50,
					//height: 50,
					//crop: "fit"
				});
				var profile_img = $('.card-image-profile img');
				profile_img.attr('src', img.first().attr('src'));
			});

			Cloudinary.uploadProgress(function(data){
				var progress_val = (data.loaded * 100.0) / data.total;
			});
		});
	</script>
{% endblock javascripts%}

